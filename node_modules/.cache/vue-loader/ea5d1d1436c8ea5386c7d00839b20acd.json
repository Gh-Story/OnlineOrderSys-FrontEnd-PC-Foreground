{"remainingRequest":"E:\\HBuilderX\\save\\save\\pc_fd_f\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\HBuilderX\\save\\save\\pc_fd_f\\src\\views\\Home\\Login\\Login.vue?vue&type=style&index=0&id=73d3dae6&lang=less&scoped=true&","dependencies":[{"path":"E:\\HBuilderX\\save\\save\\pc_fd_f\\src\\views\\Home\\Login\\Login.vue","mtime":1594904440716},{"path":"E:\\HBuilderX\\save\\save\\pc_fd_f\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500371},{"path":"E:\\HBuilderX\\save\\save\\pc_fd_f\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500371},{"path":"E:\\HBuilderX\\save\\save\\pc_fd_f\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500371},{"path":"E:\\HBuilderX\\save\\save\\pc_fd_f\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500371},{"path":"E:\\HBuilderX\\save\\save\\pc_fd_f\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500371},{"path":"E:\\HBuilderX\\save\\save\\pc_fd_f\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500371}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQoubG9naW57DQogICAgd2lkdGg6IDEwMCU7DQogICAgaGVpZ2h0OiAxMDAlOw0KICAgIA0KICAgIA0KICAgIC5taWRpdW17DQogICAgICAgIC5sb2dpbkZvcm17DQogICAgICAgICAgICB3aWR0aDogNDUwcHg7DQogICAgICAgICAgICBoZWlnaHQ6IDIwMHB4Ow0KICAgICAgICAgICAgcGFkZGluZzogNTBweDsNCiAgICAgICAgICAgICAgICAvL292ZXJmbG93LXk6c2Nyb2xsOw0KICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgICAgICAgICAgcmlnaHQ6IDI1JTsNCiAgICAgICAgICAgIHRvcDogMjUlOw0KICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOw0KCQkJLmJnew0KCQkJCW1hcmdpbjogYXV0bzsNCgkJCQloZWlnaHQ6IDYwcHg7DQoJCQkJd2lkdGg6IDExMHB4Ow0KCQkJCQ0KCQkJfQ0KCQkJDQogICAgICAgIH0NCiAgICB9DQoJLypiYWNrZ3JvdW5kOg0KCSAgICAgICAgdXJsKCIuLi8uLi8uLi8uLi9zdGF0aWMvYmcuanBnIikNCgkgICAgICAgIG5vLXJlcGVhdCBjZW50ZXIvY292ZXI7DQogICAgKi8NCn0NCg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiMA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views/Home/Login","sourcesContent":["<template>\r\n    <div class=\"login\">\r\n\t\t<!--\r\n        <div class=\"top\">\r\n\t\t\t<!--\r\n            <div style=\"width: 90%;height: 500px;padding-left: 50px;padding-top: 10px\">\r\n                <el-carousel height=\"460px\">\r\n                    <el-carousel-item v-for=\"(item,index) in imgList\" :key=\"item.id\" style=\"border-radius: 30px\">\r\n                        <img ref=\"imgHeight\"\r\n                             :src=\"item.idView\"\r\n                             class=\"avatar\"\r\n                             width=100%\r\n                             height=100%\r\n                             style=\"margin-top: 5px;float: right;margin-right: 5px\">\r\n                    </el-carousel-item>\r\n                </el-carousel>\r\n            </div>\r\n\t\t\t\r\n        </div>\r\n\t\t-->\r\n        <div class=\"midium\">\r\n            <div class=\"loginForm\" >\r\n\t\t\t\t<div  class=\"bg\">\r\n\t\t\t\t\t<img v-if=\"flag\" src=\"../../../../static/userName.png\"></src>\r\n\t\t\t\t\t<img v-if=\"flag2\" src=\"../../../../static/pwd.png\"></src>\r\n\t\t\t\t</div>\r\n\t\t\t\t<el-card>\r\n\t\t\t\t\t<el-form :model=\"login\">\r\n\t\t\t\t\t        <el-form-item style=\"margin-left: 10%;\" label=\"用户昵称\" label-width=\"80px\">\r\n\t\t\t\t\t            <el-row style=\"display: flex;flex-direction: row;\">\r\n\t\t\t\t\t                <el-input style=\"width: 400px\" v-model=\"login.username\" placeholder=\"请输入您的用户昵称\" autocomplete=\"off\"></el-input>\r\n\t\t\t\t\t            </el-row>\r\n\t\t\t\t\t        </el-form-item>\r\n\t\t\t\t\t        <el-form-item style=\"margin-left: 10%;font-size: 20px\"  label=\"用户密码\" label-width=\"80px\">\r\n\t\t\t\t\t            <el-row style=\"display: flex;flex-direction: row;\">\r\n\t\t\t\t\t                <el-input\r\n\t\t\t\t\t                        type=\"password\"\r\n\t\t\t\t\t                        v-model=\"login.passwd\"\r\n\t\t\t\t\t                        style=\"width: 400px;\"\r\n\t\t\t\t\t                        placeholder=\"请输入您的用户密码\"\r\n\t\t\t\t\t                        autocomplete=\"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t@blur=\"changeFlag\"\r\n\t\t\t\t\t\t\t\t\t\t\t@focus=\"changeFlag\"\r\n\t\t\t\t\t                >\r\n\t\t\t\t\t                    <i\r\n\t\t\t\t\t                            :class=\"passFormShow ?'el-icon-remove-outline el-input__icon':'el-icon-view el-input__icon'\"\r\n\t\t\t\t\t                            slot=\"suffix\"\r\n\t\t\t\t\t                            @click=\"passFormShow=!passFormShow\">\r\n\t\t\t\t\t                    </i>\r\n\t\t\t\t\t                </el-input>\r\n\t\t\t\t\t            </el-row>\r\n\t\t\t\t\t        </el-form-item>\r\n\t\t\t\t\t    </el-form>\r\n\t\t\t\t\t    <el-button type=\"primary\" @click=\"loginSubmit\" round>登录</el-button>\r\n\t\t\t\t\t\r\n\t\t\t\t</el-card>\r\n                </div>\r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"Login\",\r\n        data() {\r\n\r\n            var validatePhone = (rule, value, callback) => {\r\n                if (value === '') {\r\n                    callback(new Error('请输入手机号'));\r\n                } else {\r\n                    var myreg=/^[1][3,4,5,7,8][0-9]{9}$/;\r\n                    if (!myreg.test(value)) {\r\n                        callback(new Error('手机号必须为11位有效数字'));\r\n                    }\r\n                }\r\n            };\r\n            var validateValid= (rule, value, callback) => {\r\n                if (value === '') {\r\n                    callback(new Error('请输入验证码'));\r\n                } else {\r\n                    if (value!='666') {\r\n                        callback(new Error('验证码必须为666'));\r\n                    }\r\n                }\r\n            };\r\n            var validateUsername= (rule, value, callback) => {\r\n                if (value === '') {\r\n                    callback(new Error('请输入账号'));\r\n                } else {\r\n                    var myreg=/^[a-z0-9]{8,16}$/;\r\n                    if (!myreg.test(value)) {\r\n                        callback(new Error('账号必须为8-16位的小写字母或数字组成'));\r\n                    }\r\n                }\r\n            };\r\n            var validatePassword= (rule, value, callback) => {\r\n                if (value === '') {\r\n                    callback(new Error('请输入密码'));\r\n                } else {\r\n                    var myreg=/^[a-z0-9]{8,16}$/;\r\n                    if (!myreg.test(value)) {\r\n                        callback(new Error('密码必须为8-16位的小写字母或数字组成'));\r\n                    }\r\n                }\r\n            };\r\n            var validateChecked= (rule, value, callback) => {\r\n                if(!value){\r\n                    callback(new Error('未同意协议'));\r\n                }\r\n            };\r\n            return {\r\n\t\t\t\tflag2:false,\r\n\t\t\t\tflag:true,\r\n                passFormShow:false,\r\n                activeName: 'second',\r\n                dialogFormVisible: false,\r\n                loginVisible:false,\r\n                login:{\r\n                    username:'',\r\n                    passwd:'',\r\n                },\r\n                //显示图片部分图片地址\r\n                imgList: [\r\n                    {id: 0, idView: require('../../../../static/FOOD.jpg')},\r\n                    {id: 1, idView: require('../../../../static/MSR.jpg')},\r\n                    {id: 2, idView: require('../../../../static/MERCH.jpg')},\r\n                ],\r\n                checked: false,\r\n                active: 0,\r\n                form: {\r\n                    customer_username:'',\r\n                    customer_password:'',\r\n                    phonenum_mes:'',\r\n                    valid:'',\r\n                    checked:false\r\n                },\r\n                rules: {\r\n                    customer_username: [\r\n                        {  validator: validateUsername, trigger: 'blur'}\r\n                    ],\r\n                    customer_password: [\r\n                        {  validator: validatePassword, trigger: 'blur'}\r\n                    ],\r\n                    checked: [\r\n                        {  validator: validateChecked, trigger: 'blur'}\r\n                    ],\r\n                },\r\n                ruletwo:{\r\n                    phonenum_mes: [\r\n                        {  validator: validatePhone, trigger: 'blur'}\r\n                    ],\r\n                    valid:[\r\n                        {  validator: validateValid, trigger: 'blur'}\r\n                    ],\r\n                }\r\n            };\r\n        },\r\n        methods: {\r\n\t\t\tchangeFlag(){\r\n\t\t\t\tlet tmp=this.flag;\r\n\t\t\t\tthis.flag=this.flag2;\r\n\t\t\t\tthis.flag2=tmp;\r\n\t\t\t},\r\n            loginSubmit(){\r\n                this.axios.post(`http://localhost:8080/login/customerLogin`,\r\n                    {\r\n                        customer_username:this.login.username,\r\n                        customer_password:this.login.passwd,\r\n                    }).then(r=>{\r\n                   \r\n                    if(r.data.detail==\"登陆成功\"){\r\n                        this.$message({\r\n                            message: '登录成功',\r\n                            type: 'success'\r\n                        });\r\n\t\t\t\t\t\tthis.$store.commit('changeLogin',true);\r\n\t\t\t\t\t\tthis.$store.commit('changeUser',r.data.customer);\r\n                        this.$router.push('Food');\r\n                    }else{\r\n                        this.$message({\r\n                            message: '登录失败，用户名或者密码错误',\r\n                            type: 'warning'\r\n                        });\r\n                    }\r\n                });\r\n                this.loginVisible = false;\r\n            },\r\n        },\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.login{\r\n    width: 100%;\r\n    height: 100%;\r\n    \r\n    \r\n    .midium{\r\n        .loginForm{\r\n            width: 450px;\r\n            height: 200px;\r\n            padding: 50px;\r\n                //overflow-y:scroll;\r\n            position: absolute;\r\n            right: 25%;\r\n            top: 25%;\r\n            text-align: center;\r\n\t\t\t.bg{\r\n\t\t\t\tmargin: auto;\r\n\t\t\t\theight: 60px;\r\n\t\t\t\twidth: 110px;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n        }\r\n    }\r\n\t/*background:\r\n\t        url(\"../../../../static/bg.jpg\")\r\n\t        no-repeat center/cover;\r\n    */\r\n}\r\n</style>"]}]}