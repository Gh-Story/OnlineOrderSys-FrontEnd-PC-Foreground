{"remainingRequest":"F:\\东北大学\\学校文件\\实训\\前端\\20200718\\pc_fd_f\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\东北大学\\学校文件\\实训\\前端\\20200718\\pc_fd_f\\src\\views\\Home\\CustomerService\\CustomerService.vue?vue&type=style&index=0&id=a4d483ae&lang=less&scoped=true&","dependencies":[{"path":"F:\\东北大学\\学校文件\\实训\\前端\\20200718\\pc_fd_f\\src\\views\\Home\\CustomerService\\CustomerService.vue","mtime":1594907544932},{"path":"F:\\东北大学\\学校文件\\实训\\前端\\20200718\\pc_fd_f\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500371},{"path":"F:\\东北大学\\学校文件\\实训\\前端\\20200718\\pc_fd_f\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500371},{"path":"F:\\东北大学\\学校文件\\实训\\前端\\20200718\\pc_fd_f\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500371},{"path":"F:\\东北大学\\学校文件\\实训\\前端\\20200718\\pc_fd_f\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500371},{"path":"F:\\东北大学\\学校文件\\实训\\前端\\20200718\\pc_fd_f\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500371},{"path":"F:\\东北大学\\学校文件\\实训\\前端\\20200718\\pc_fd_f\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500371}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5jdXN0b21lclNlcnZpY2V7CglkaXNwbGF5OiBmbGV4OwoJZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKCXdpZHRoOjEwMCU7CgloZWlnaHQ6MTAwJTsKCS50b3B7CgkJZGlzcGxheTogZmxleDsKCQlmbGV4LWRpcmVjdGlvbjogcm93OwoJCWZsZXg6MTsKCQkvL2JhY2tncm91bmQtY29sb3I6IGJsYW5jaGVkYWxtb25kOwoJCS50b3BfZGl2MXsKCQkJbWFyZ2luLXRvcDogMyU7CgkJfQoJfQoJLm1lZGl1bXsKCQlkaXNwbGF5OiBmbGV4OwoJCWZsZXgtZGlyZWN0aW9uOiByb3c7CgkJZmxleDo1OwoJCS8vYmFja2dyb3VuZC1jb2xvcjogbGlnaHRnb2xkZW5yb2R5ZWxsb3c7CgkJLm1lZGl1bV9kaXYxewoJCQl3aWR0aDoxMDAlOwoJCX0KCQkuUGFuZWx7CgkJCS8vYmFja2dyb3VuZC1jb2xvcjogYmx1ZTsKCQkJaGVpZ2h0OjU1MHB4OwoJCQl3aWR0aDo3MCU7CgkJCW1hcmdpbi10b3A6IDUwcHg7CgkJCW1hcmdpbi1sZWZ0OiAxNSU7CgkJCW1hcmdpbi1yaWdodDogMTAwcHg7CgkJCS5NeWNhcmR7CgkJCQloZWlnaHQ6IDEwMCU7CgkJCQkvZGVlcC8gLmVsLWNhcmRfX2hlYWRlcnsKCQkJCQliYWNrZ3JvdW5kLWNvbG9yOiNmNmY2ZjYgOwoJCQkJfQoJCQkJLmhlYWR7CgkJCQkJLy9iYWNrZ3JvdW5kLWNvbG9yOiAjRDNEQ0U2OwoJCQkJfQoJCQkJLmJvZHl7CgkJCQkJCgkJCQkJLm1pZGRsZXsKCQkJCQkJcGFkZGluZy1sZWZ0OiA1cHg7CgkJCQkJCXBhZGRpbmctcmlnaHQ6IDVweDsKCQkJCQkJaGVpZ2h0OiA0MDVweDsKCQkJCQkJb3ZlcmZsb3c6IGF1dG87CgkJCQkJCS8vYmFja2dyb3VuZC1jb2xvcjogI2VhZWFlYTsKCQkJCQkJLmxlZnR7CgkJCQkJCQlwYWRkaW5nLXRvcDogNXB4OwoJCQkJCQkJZmxvYXQ6bGVmdDsKCQkJCQkJCXRleHQtYWxpZ246IGxlZnQ7CgkJCQkJCQkuY2hhcnRCb3h7CgkJCQkJCQkJcGFkZGluZy1sZWZ0OiAxNXB4OwoJCQkJCQkJfQoJCQkJCQkJCgkJCQkJCX0KCQkJCQkJLnJpZ2h0ewoJCQkJCQkJZmxvYXQ6cmlnaHQ7CgkJCQkJCQl0ZXh0LWFsaWduOiByaWdodDsKCQkJCQkJCS5jaGFydEJveHsKCQkJCQkJCQlwYWRkaW5nLXJpZ2h0OiAxNXB4OwoJCQkJCQkJCXNwYW57CgkJCQkJCQkJCXBhZGRpbmc6NXB4OwoJCQkJCQkJCQkvL2JhY2tncm91bmQtY29sb3I6ICNlMmY1ZmE7CgkJCQkJCQkJCQoJCQkJCQkJCX0KCQkJCQkJCQkKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCQkubmFtZXsKCQkJCQkJCWZvbnQtc2l6ZTogMTJweDsKCQkJCQkJfQoJCQkJCQkuY2hhcnRCb3h7CgkJCQkJCQlwYWRkaW5nOiA2cHg7CgkJCQkJCQlmb250LXNpemU6IDE2cHg7CgkJCQkJCQlzcGFuewoJCQkJCQkJCWJhY2tncm91bmQtY29sb3I6ICNlMmY1ZmE7CgkJCQkJCQkJYm9yZGVyOiAxcHggc29saWQgI2U1ZThmMDsKCQkJCQkJCQlwYWRkaW5nOiAzcHg7CgkJCQkJCQkJYm9yZGVyLXJhZGl1czogNXB4OwoJCQkJCQkJCXBhZGRpbmc6NXB4OwoJCQkJCQkJCXdvcmQtYnJlYWs6YnJlYWstYWxsOwoJCQkJCQkJCWRpc3BsYXk6aW5saW5lLWJsb2NrOwoJCQkJCQkJCS8vZGlzcGxheTpibG9jazsgCgkJCQkJCQkJLy93b3JkLXdyYXAgOiBicmVhay13b3JkIDsKCQkJCQkJCX0KCQkJCQkJCQoJCQkJCQl9CgkJCQkJfQoJCQkJCS5ib3R0b217CgkJCQkJCWhlaWdodDogOTBweDsKCQkJCQkJLy9iYWNrZ3JvdW5kLWNvbG9yOiAjZTVlOGYwOwoJCQkJCQlib3JkZXItdG9wOjFweCBzb2xpZCAjZTVlOGYwOwoJCQkJCQkvZGVlcC8gLmVsLWJ1dHRvbnsKCQkJCQkJCWJhY2tncm91bmQtY29sb3I6ICNlMmY1ZmE7CgkJCQkJCQlib3JkZXItY29sb3I6ICAjYzZmNWZhOwoJCQkJCQkJY29sb3I6IGJsYWNrOwoJCQkJCQl9CgkJCQkJfQoJCQkJfQoJCQkJL2RlZXAvLmVsLWNhcmRfX2JvZHl7CgkJCQkJcGFkZGluZzogMHB4ICFpbXBvcnRhbnQ7CgkJCQkJCgkJCQl9CgkJCQkKCQkJfQoJCX0KCX0KCS5idXR0b217CgkJZGlzcGxheTogZmxleDsKCQlmbGV4LWRpcmVjdGlvbjogcm93OwoJCWZsZXg6MTsKCQkvL2JhY2tncm91bmQtY29sb3I6IHllbGxvdzsKCX0KfQo="},{"version":3,"sources":["CustomerService.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CustomerService.vue","sourceRoot":"src/views/Home/CustomerService","sourcesContent":["<template>\n\t<div class=\"customerService\">\n\t\t<div class=\"top\">\n\t\t\t<div class=\"top_div1\">\n\t\t\t\t<el-row style=\"width: 600px; height: 40px;display: flex;flex-direction: row;\">\n\t\t\t\t\t<div class=\"block\" ><el-avatar :size=\"50\" :src=\"imgList[0].idView\"></el-avatar></div>\n\t\t\t\t\t<el-alert style=\"margin-left: 10%;\" title=\"您好,客服小饱很高心为您服务\" type=\"info\" :closable=\"false\"></el-alert>\n\t\t\t\t</el-row>\n\t\t\t</div>\t\t\t\t\n\t\t</div>\n\t\t<div class=\"medium\">\n\t\t\t<div class=\"Panel\">\n\t\t\t\t<el-card class=\"Mycard\">\n\t\t\t\t  <div class=\"head\" slot=\"header\" style=\"text-align: center;\">\n\t\t\t\t    <span >在线客服</span>\n\t\t\t\t  </div>\n\t\t\t\t  <div class=\"body\">\n\t\t\t\t\t<div ref=\"main\" class=\"middle\">\n\t\t\t\t\t\t<div ref=\"content\">\n\t\t\t\t\t\t\t<div v-for=\"item in messages\">\n\t\t\t\t\t\t\t\t<div :class=\"{left:item.customerId<0,right:item.customerId>0}\" style=\"width: 60%;\">\n\t\t\t\t\t\t\t\t\t<div class=\"name\">\n\t\t\t\t\t\t\t\t\t\t<span>{{item.customerName}}</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"chartBox\">\n\t\t\t\t\t\t\t\t\t  <span v-text=\"item.message\"></span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"bottom\">\n\t\t\t\t\t\t<el-row>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<el-col :span=\"15\">\n\t\t\t\t\t\t\t\t<el-input\n\t\t\t\t\t\t\t\t  style=\"padding-left: 2%;padding-top: 10px;\"\n\t\t\t\t\t\t\t\t  type=\"textarea\"\n\t\t\t\t\t\t\t\t  :autosize=\"{minRows:2,maxRows:3}\"\n\t\t\t\t\t\t\t\t  placeholder=\"请输入内容\"\n\t\t\t\t\t\t\t\t  v-model=\"message\">\n\t\t\t\t\t\t\t\t</el-input>\n\t\t\t\t\t\t\t</el-col>\n\t\t\t\t\t\t\t<el-col :span=\"4\">\n\t\t\t\t\t\t\t\t <el-button @click=\"sendMessage\" style=\"float:right; margin-right:15px;margin-top: 15px;\" type=\"warning\" size=\"small\">发送</el-button>\n\t\t\t\t\t\t\t</el-col>\n\t\t\t\t\t\t</el-row>\n\t\t\t\t\t</div>\n\t\t\t\t  </div>\n\t\t\t\t  \n\t\t\t\t</el-card>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t\t<div class=\"buttom\">\n\t\t\t<el-divider  content-position=\"center\"><el-link class=\"el-icon-phone\" type=\"primary\">电话客服：83332333</el-link></el-divider>\n\t\t\t\n\t\t\t\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\timgList: [\n\t\t\t\t\t{id: 0, idView: require('../../../../static/8.jpg')},\n\t\t\t\t\t\n\t\t\t\t],\n\t\t\t\tmessages:[\n\t\t\t\t\t\n\t\t\t\t],\n\t\t\t\tmessage:'',\n\t\t\t\tws:'',\n\t\t\t\tcustomerId:'',\n\t\t\t\tserviceName:''\n\t\t\t}\n\t\t},\n\t\tcreated(){\n\t\t\tlet customer=this.$store.getters.getCustomer;\n\t\t\tconsole.log(customer);\n\t\t\tthis.customerId = customer.customerId;\n\t\t\tthis.serviceName = customer.customerName;\n\t\t\tconsole.log(`ws://localhost:8080/wss/${this.serviceName}/${this.customerId}`);\n\t\t\tthis.ws = new WebSocket(`ws://localhost:8080/wss/${this.serviceName}/${this.customerId}`);\n\t\t\tthis.ws.onopen = this.wsOpen;\n\t\t\tthis.ws.onclose = this.wsClose;\n\t\t\tthis.ws.onerror = this.wsError;\n\t\t\tthis.ws.onmessage = this.wsMessage;\n\t\t},\n\t\tmethods:{\n\t\t\tsendMessage(){\n\t\t\t\tlet message_item={customerId:1,customerName:'',message:''};\n\t\t\t\tmessage_item.customerName='我';\n\t\t\t\tmessage_item.message=this.message;\n\t\t\t\tthis.messages.push(message_item);\n\t\t\t\t//发送消息\n\t\t\t\tlet response=message_item.message+'_'+this.customerId+'_'+'-1';\n\t\t\t\tconsole.log(response);\n\t\t\t\tthis.ws.send(response);\n\t\t\t\t//刷新页面\n\t\t\t\tthis.message=\"\";\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t       this.$refs.main.scrollTop = this.$refs.content.scrollHeight;\n\t\t\t\t});\n\t\t\t},\n\t\t\twsMessage(event){\n\t\t\t\tconsole.log(event.data);//返回的数据内容\n\t\t\t\tlet data=JSON.parse(event.data);\n\t\t\t\tconsole.log(data.messageType);\n\t\t\t\tif(data.messageType==1){\n\t\t\t\t\tlet message_item={customerId:-1,customerName:'',message:''};\n\t\t\t\t\tmessage_item.customerId=data.clientId;\n\t\t\t\t\tmessage_item.customerName=data.clientName;\n\t\t\t\t\tmessage_item.message=data.message;\n\t\t\t\t\tthis.messages.push(message_item);\n\t\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\t       this.$refs.main.scrollTop = this.$refs.content.scrollHeight;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\twsOpen(){\n\t\t\t\tconsole.log(\"websocket开启\");\n\t\t\t},\n\t\t\twsError(){\n\t\t\t\tconsole.log(\"websocket错误\");\n\t\t\t},\n\t\t\twsClose(){\n\t\t\t\tconsole.log(\"websocket关闭\");\n\t\t\t},\n\t\t\t\n\t\t}\n\t\n\t}\n\t\n</script>\n\n<style lang=\"less\" scoped>\n\t.customerService{\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\twidth:100%;\n\t\theight:100%;\n\t\t.top{\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\tflex:1;\n\t\t\t//background-color: blanchedalmond;\n\t\t\t.top_div1{\n\t\t\t\tmargin-top: 3%;\n\t\t\t}\n\t\t}\n\t\t.medium{\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\tflex:5;\n\t\t\t//background-color: lightgoldenrodyellow;\n\t\t\t.medium_div1{\n\t\t\t\twidth:100%;\n\t\t\t}\n\t\t\t.Panel{\n\t\t\t\t//background-color: blue;\n\t\t\t\theight:550px;\n\t\t\t\twidth:70%;\n\t\t\t\tmargin-top: 50px;\n\t\t\t\tmargin-left: 15%;\n\t\t\t\tmargin-right: 100px;\n\t\t\t\t.Mycard{\n\t\t\t\t\theight: 100%;\n\t\t\t\t\t/deep/ .el-card__header{\n\t\t\t\t\t\tbackground-color:#f6f6f6 ;\n\t\t\t\t\t}\n\t\t\t\t\t.head{\n\t\t\t\t\t\t//background-color: #D3DCE6;\n\t\t\t\t\t}\n\t\t\t\t\t.body{\n\t\t\t\t\t\t\n\t\t\t\t\t\t.middle{\n\t\t\t\t\t\t\tpadding-left: 5px;\n\t\t\t\t\t\t\tpadding-right: 5px;\n\t\t\t\t\t\t\theight: 405px;\n\t\t\t\t\t\t\toverflow: auto;\n\t\t\t\t\t\t\t//background-color: #eaeaea;\n\t\t\t\t\t\t\t.left{\n\t\t\t\t\t\t\t\tpadding-top: 5px;\n\t\t\t\t\t\t\t\tfloat:left;\n\t\t\t\t\t\t\t\ttext-align: left;\n\t\t\t\t\t\t\t\t.chartBox{\n\t\t\t\t\t\t\t\t\tpadding-left: 15px;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t.right{\n\t\t\t\t\t\t\t\tfloat:right;\n\t\t\t\t\t\t\t\ttext-align: right;\n\t\t\t\t\t\t\t\t.chartBox{\n\t\t\t\t\t\t\t\t\tpadding-right: 15px;\n\t\t\t\t\t\t\t\t\tspan{\n\t\t\t\t\t\t\t\t\t\tpadding:5px;\n\t\t\t\t\t\t\t\t\t\t//background-color: #e2f5fa;\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t.name{\n\t\t\t\t\t\t\t\tfont-size: 12px;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t.chartBox{\n\t\t\t\t\t\t\t\tpadding: 6px;\n\t\t\t\t\t\t\t\tfont-size: 16px;\n\t\t\t\t\t\t\t\tspan{\n\t\t\t\t\t\t\t\t\tbackground-color: #e2f5fa;\n\t\t\t\t\t\t\t\t\tborder: 1px solid #e5e8f0;\n\t\t\t\t\t\t\t\t\tpadding: 3px;\n\t\t\t\t\t\t\t\t\tborder-radius: 5px;\n\t\t\t\t\t\t\t\t\tpadding:5px;\n\t\t\t\t\t\t\t\t\tword-break:break-all;\n\t\t\t\t\t\t\t\t\tdisplay:inline-block;\n\t\t\t\t\t\t\t\t\t//display:block; \n\t\t\t\t\t\t\t\t\t//word-wrap : break-word ;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t.bottom{\n\t\t\t\t\t\t\theight: 90px;\n\t\t\t\t\t\t\t//background-color: #e5e8f0;\n\t\t\t\t\t\t\tborder-top:1px solid #e5e8f0;\n\t\t\t\t\t\t\t/deep/ .el-button{\n\t\t\t\t\t\t\t\tbackground-color: #e2f5fa;\n\t\t\t\t\t\t\t\tborder-color:  #c6f5fa;\n\t\t\t\t\t\t\t\tcolor: black;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t/deep/.el-card__body{\n\t\t\t\t\t\tpadding: 0px !important;\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t.buttom{\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\tflex:1;\n\t\t\t//background-color: yellow;\n\t\t}\n\t}\n</style>\n"]}]}