{"remainingRequest":"F:\\东北大学\\学校文件\\实训\\前端\\20200718\\pc_fd_f\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\东北大学\\学校文件\\实训\\前端\\20200718\\pc_fd_f\\src\\views\\Home\\TaskManage\\TaskManage.vue?vue&type=style&index=0&id=d6828f8e&lang=less&scoped=true&","dependencies":[{"path":"F:\\东北大学\\学校文件\\实训\\前端\\20200718\\pc_fd_f\\src\\views\\Home\\TaskManage\\TaskManage.vue","mtime":1595499793242},{"path":"F:\\东北大学\\学校文件\\实训\\前端\\20200718\\pc_fd_f\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500371},{"path":"F:\\东北大学\\学校文件\\实训\\前端\\20200718\\pc_fd_f\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500371},{"path":"F:\\东北大学\\学校文件\\实训\\前端\\20200718\\pc_fd_f\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500371},{"path":"F:\\东北大学\\学校文件\\实训\\前端\\20200718\\pc_fd_f\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500371},{"path":"F:\\东北大学\\学校文件\\实训\\前端\\20200718\\pc_fd_f\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500371},{"path":"F:\\东北大学\\学校文件\\实训\\前端\\20200718\\pc_fd_f\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500371}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi50YXNrTWFuYWdlewoJcGFkZGluZy10b3A6IDIwcHg7CglwYWRkaW5nLWxlZnQ6IDIwcHg7CglwYWRkaW5nLXJpZ2h0OiA2MHB4OwoJb3ZlcmZsb3c6IGF1dG87Cgkucm93ewoJCWRpc3BsYXk6IGZsZXg7CgkJZmxleC1kaXJlY3Rpb246IHJvdzsKCQloZWlnaHQ6IDMwMHB4OwoJCXdpZHRoOiAxMDAlOwoJCW1hcmdpbi10b3A6IDIlOwoJCW1hcmdpbi1sZWZ0OiAyJTsKCQkucm93X2l7CgoJCQltYXJnaW4tcmlnaHQ6IDUlOwoJCQl3aWR0aDogMTUlOwoJCQliYWNrZ3JvdW5kOiAKCQkJCXVybCgiLi4vLi4vLi4vLi4vc3RhdGljL+e6ouWMheWMhS5qcGciKTsKCQkJYmFja2dyb3VuZC1zaXplOjEwMCUgMTAwJTsKCQl9Cgl9CgkKfQoK"},{"version":3,"sources":["TaskManage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"TaskManage.vue","sourceRoot":"src/views/Home/TaskManage","sourcesContent":["<template>\n\t<div class='taskManage'>\n\t  <el-row>\n\t\t  <img src=\"../../../../static/任务迎取红包.jpg\" style=\"width: 100%;height: 200px;\">\n\t  </el-row>\n\t  <h3 style=\"padding-bottom: 10px;\">任务中心:</h3>\r\n\t  <div class=\"row\" v-for=\"item in alltask\">\r\n\t\t  <div class=\"row_i\" v-for=\"task in item\">\r\n\t\t\t<div style=\"margin-top:53px ;margin-left: 41%;\">\r\n\t\t\t\t<el-button type=\"warning\" @click=\"getTask(task.taskId)\" circle>领</el-button>\r\n\t\t\t</div>\r\n\t\t\t<div style=\"margin-top: 20%;color:white;text-align: center;\">\r\n\t\t\t\t<el-row >{{task.name}}</el-row>\r\n\t\t\t\t<el-row style=\"margin-top: 5px;\">今日下{{task.need}}单</el-row>\r\n\t\t\t\t<el-row style=\"margin-top: 5px;\">奖励：{{task.redPacket}}</el-row>\r\n\t\t\t</div>\r\n\t\t  </div>\r\n\t  </div>\n\t  \n\t  <h3 style=\"padding-bottom: 10px;\">我的任务:</h3>\r\n\t  <div class=\"row\" v-for=\"item in allmytask\">\r\n\t  \t\t  <div class=\"row_i\" v-for=\"task in item\">\r\n\t  \t\t\t<div style=\"margin-top:53px ;margin-left: 41%;\">\r\n\t  \t\t\t\t<el-button type=\"warning\" @click=\"getRedpack(task)\" circle>领</el-button>\r\n\t  \t\t\t</div>\r\n\t  \t\t\t<div style=\"margin-top: 20%;color:white;text-align: center;\">\r\n\t  \t\t\t\t<el-row >{{task.name}}</el-row>\r\n\t  \t\t\t\t<el-row style=\"margin-top: 5px;\">今日下{{task.need}}单</el-row>\r\n\t\t\t\t\t<el-row style=\"margin-top: 5px;\">已完成{{task.finished}}单</el-row>\r\n\t  \t\t\t\t<el-row style=\"margin-top: 5px;\">奖励：{{task.redPacket}}</el-row>\r\n\t  \t\t\t</div>\r\n\t  \t\t  </div>\r\n\t  </div>\n\t  <!--\r\n\t  <div v-for=\"item in myTasks\">\r\n\t  \t\t<el-card body-style=\"padding:0px\">\r\n\t  \t\t\t<el-col :span=\"6\">\r\n\t  \t\t\t\t<h2 style=\"padding-top: 5%;\">{{item.name}}</h2>\r\n\t  \t\t\t</el-col>\r\n\t  \t\t\t<el-col :span=\"6\">\r\n\t  \t\t\t\t<h3 style=\"padding-top: 5%;\">今日下{{item.need}}单</h3>\r\n\t  \t\t\t\t\t<h4 style=\"color: grey;\" >已完成{{item.finished}}单</h4>\r\n\t  \t\t\t</el-col>\r\n\t  \t\t\t<el-col :span=\"10\">\r\n\t  \t\t\t\t<h3 style=\"padding-top: 5%;color: red;\">奖励：{{item.redPacket}}</h3>\r\n\t  \t\t\t</el-col>\r\n\t  \t\t\t<el-col :span=\"2\">\r\n\t  \t\t\t\t<div style=\"position: relative;\" @click=\"getRedpack(item)\">\r\n\t  \t\t\t\t\t<img\r\n\t  \t\t\t\t\tsrc=\"../../../../static/红包包.jpg\" \r\n\t  \t\t\t\t\tclass=\"image\"\r\n\t  \t\t\t\t\theight=\"60px\">\r\n\t  \t\t\t\t\t<span style=\"cursor: default; user-select:none; position: absolute; bottom: 24px; left: 3px;\r\n\t  \t\t\t\t\tfont-size: 8px;font-family:'微软雅黑';color: white;\">领取红包</span> \r\n\t  \t\t\t\t</div>\r\n\t  \t\t\t</el-col>\r\n\t  \t\t</el-card><br />\r\n\t  \t\t\r\n\t  </div>\r\n\t  \r\n\t  -->\n\t\t \n\t</div>\n\t\n</template>\n\n<script>\n\texport default {\n\t\tdata() {\n\t\t  return {\r\n\t\t\talltask:[],\r\n\t\t\tallmytask:[],\n\t\t\ttasks:[\n\t\t\t\t/*{\n\t\t\t\t\ttaskId:0,\n\t\t\t\t\tname:'新春红包活动11',\n\t\t\t\t\tneed:'2',\n\t\t\t\t\tredPacket:'3元红包',\n\t\t\t\t\t\n\t\t\t\t},{\n\t\t\t\t\ttaskId:0,\n\t\t\t\t\tname:'新春红包活动12',\n\t\t\t\t\tneed:'2',\n\t\t\t\t\tredPacket:'3元红包',\n\t\t\t\t},{\n\t\t\t\t\ttaskId:0,\n\t\t\t\t\tname:'新春红包活动13',\n\t\t\t\t\tneed:'2',\n\t\t\t\t\tredPacket:'3元红包',\n\t\t\t\t},{\n\t\t\t\t\ttaskId:0,\n\t\t\t\t\tname:'新春红包活动14',\n\t\t\t\t\tneed:'2',\n\t\t\t\t\tredPacket:'3元红包',\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttaskId:0,\r\n\t\t\t\t\tname:'新春红包活动11',\r\n\t\t\t\t\tneed:'2',\r\n\t\t\t\t\tredPacket:'3元红包',\r\n\t\t\t\t\t\r\n\t\t\t\t},{\r\n\t\t\t\t\ttaskId:0,\r\n\t\t\t\t\tname:'新春红包活动12',\r\n\t\t\t\t\tneed:'2',\r\n\t\t\t\t\tredPacket:'3元红包',\r\n\t\t\t\t},{\r\n\t\t\t\t\ttaskId:0,\r\n\t\t\t\t\tname:'新春红包活动13',\r\n\t\t\t\t\tneed:'2',\r\n\t\t\t\t\tredPacket:'3元红包',\r\n\t\t\t\t},{\r\n\t\t\t\t\ttaskId:0,\r\n\t\t\t\t\tname:'新春红包活动14',\r\n\t\t\t\t\tneed:'2',\r\n\t\t\t\t\tredPacket:'3元红包',\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttaskId:0,\r\n\t\t\t\t\tname:'新春红包活动14',\r\n\t\t\t\t\tneed:'2',\r\n\t\t\t\t\tredPacket:'3元红包',\r\n\t\t\t\t},*/\n\t\t\t],\n\t\t\tmyTasks:[\n\t\t\t\t/*{\n\t\t\t\t\tcustomer_missionId:0,\n\t\t\t\t\tname:'新春红包活动1',\n\t\t\t\t\tneed:'2',\n\t\t\t\t\tfinished:'1',\n\t\t\t\t\tredPacket:'3元红包',\n\t\t\t\t},{\n\t\t\t\t\tcustomer_missionId:0,\n\t\t\t\t\tname:'新春红包活动2',\n\t\t\t\t\tneed:'2',\n\t\t\t\t\tfinished:'1',\n\t\t\t\t\tredPacket:'3元红包',\n\t\t\t\t},{\n\t\t\t\t\tcustomer_missionId:0,\n\t\t\t\t\tname:'新春红包活动3',\n\t\t\t\t\tneed:'2',\n\t\t\t\t\tfinished:'1',\n\t\t\t\t\tredPacket:'3元红包',\n\t\t\t\t},{\n\t\t\t\t\tcustomer_missionId:0,\n\t\t\t\t\tname:'新春红包活动4',\n\t\t\t\t\tneed:'2',\n\t\t\t\t\tfinished:'1',\n\t\t\t\t\tredPacket:'3元红包',\n\t\t\t\t},*/\n\t\t\t]\n\t\t  }\n\t\t},\n\t\tcreated(){\n\t\t\tthis.load();\r\n\t\t\t//this.trans();\r\n\t\t\t//this.trans2();\n\t\t},\n\t\tmethods: {\n\t\t    trans(){\r\n\t\t\t\tlet nums=this.tasks.length;\r\n\t\t\t\tthis.alltask=[];\r\n\t\t\t\tfor(let i=0;i<nums/4-1;i++){\r\n\t\t\t\t\tlet tmp=[];\r\n\t\t\t\t\tfor(let j=0;j<4;j++){\r\n\t\t\t\t\t\ttmp.push(this.tasks[4*i+j]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.alltask.push(tmp);\r\n\t\t\t\t}\r\n\t\t\t\tlet tmp=[];\r\n\t\t\t\tif(nums%4==0){\r\n\t\t\t\t\tfor(let i=4*(Math.floor(nums/4)-1);i<nums;i++){\r\n\t\t\t\t\t\ttmp.push(this.tasks[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tfor(let i=4*Math.floor(nums/4);i<nums;i++){\r\n\t\t\t\t\t\ttmp.push(this.tasks[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.alltask.push(tmp);\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\ttrans2(){\r\n\t\t\t\tlet nums=this.myTasks.length;\r\n\t\t\t\tthis.allmytask=[];\r\n\t\t\t\tfor(let i=0;i<nums/4-1;i++){\r\n\t\t\t\t\tlet tmp=[];\r\n\t\t\t\t\tfor(let j=0;j<4;j++){\r\n\t\t\t\t\t\ttmp.push(this.myTasks[4*i+j]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.allmytask.push(tmp);\r\n\t\t\t\t}\r\n\t\t\t\tlet tmp=[];\r\n\t\t\t\tif(nums%4==0){\r\n\t\t\t\t\tfor(let i=4*(Math.floor(nums/4)-1);i<nums;i++){\r\n\t\t\t\t\t\ttmp.push(this.myTasks[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tfor(let i=4*Math.floor(nums/4);i<nums;i++){\r\n\t\t\t\t\t\ttmp.push(this.myTasks[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.allmytask.push(tmp);\r\n\t\t\t\t\r\n\t\t\t},\n\t\t\tgetTask(taskId){\n\t\t\t\t\n\t\t\t\tthis.axios.post('http://localhost:8080/mission/addCustomerMission',{\n\t\t\t\t\tcustomerId:3,\n\t\t\t\t\tmissionId:taskId\n\t\t\t\t}).then(r=>{\r\n\t\t\t\t\t\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t\tmessage: '领取成功',\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t\tthis.load();\n\t\t\t\t});\n\t\t\t\t\n\t\t\t},\n\t\t\tgetRedpack(item){\n\t\t\t\t\n\t\t\t\t if(item.finished>=item.need){\n\t\t\t\t\tthis.axios.post('http://localhost:8080/mission/converRedpacket',{\n\t\t\t\t\t\tcustomerId:3,\n\t\t\t\t\t\tcustomer_missionId:item.customer_missionId\n\t\t\t\t\t}).then(r=>{\n\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\tmessage: '领取成功',\n\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.load();\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t\tmessage: '未完成任务',\n\t\t\t\t\t\ttype: 'warning'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t\n\t\t\t},\n\t\t\tload(){\n\t\t\t\tthis.axios.post('http://localhost:8080/mission/selectByCustomer',{}).then(r=>{\r\n\t\t\t\t\tlet list = r.data.msg.missionList;\r\n\t\t\t\t\t\n\t\t\t\t\tthis.myTasks=[];\n\t\t\t\t\tfor(let i=0;i<list.length;i++){\n\t\t\t\t\t\tlet item={customer_missionId:0,name:'新春红包活动4',need:'2',finished:'1',redPacket:'3元红包',};\n\t\t\t\t\t\titem.customer_missionId=list[i].customerMission.customerMissionId;\n\t\t\t\t\t\titem.name=list[i].mission.missionName;\n\t\t\t\t\t\titem.need=list[i].mission.missionNeed;\n\t\t\t\t\t\titem.finished=list[i].customerMission.missionCompl;\n\t\t\t\t\t\titem.redPacket=list[i].redpacket.redpacketName;\n\t\t\t\t\t\tif(list[i].customerMission.customerMissionState==1)\n\t\t\t\t\t\t\tthis.myTasks.push(item);\n\t\t\t\t\t}\r\n\t\t\t\t\tif(this.myTasks.length==0){\r\n\t\t\t\t\t\tthis.allmytask=[];\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.trans2();\r\n\t\t\t\t\t}console.log('111',this.allmytask);\r\n\t\t\t\t\n\t\t\t\t\tthis.axios.post('http://localhost:8080/mission/selectAll',{}).then(r=>{\n\t\t\t\t\t\t\n\t\t\t\t\t\tlet list1 = r.data.msg.missionList;\r\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.tasks=[];\n\t\t\t\t\t\tfor(let i=0;i<list1.length;i++){\n\t\t\t\t\t\t\tlet item={taskId:0,name:'新春红包活动4',need:'2',redPacket:'3元红包',};\n\t\t\t\t\t\t\titem.taskId=list1[i].mission.missionId;\n\t\t\t\t\t\t\titem.name=list1[i].mission.missionName;\n\t\t\t\t\t\t\titem.need=list1[i].mission.missionNeed;\n\t\t\t\t\t\t\titem.redPacket=list1[i].redpacket.redpacketName;\n\t\t\t\t\t\t\tlet flag=1;\n\t\t\t\t\t\t\tfor(let j=0;j<list.length;j++){\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif(list1[i].mission.missionId==list[j].mission.missionId){\r\n\t\t\t\t\t\t\t\t\tflag=0;\r\n\t\t\t\t\t\t\t\t\t//console.log(list1[i].mission,list[j].mission);\r\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(flag==1){\n\t\t\t\t\t\t\t\tthis.tasks.push(item);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//console.log('111',this.tasks);\r\n\t\t\t\t\t\tif(this.tasks.length==0){\r\n\t\t\t\t\t\t\tthis.alltask=[];\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthis.trans();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconsole.log('222',this.alltask);\n\t\t\t\t\t});\r\n\t\t\t\t\t\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t}\n</script>\n\n<style lang=\"less\" scoped>\n\t.taskManage{\n\t\tpadding-top: 20px;\n\t\tpadding-left: 20px;\n\t\tpadding-right: 60px;\n\t\toverflow: auto;\n\t\t.row{\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\theight: 300px;\r\n\t\t\twidth: 100%;\r\n\t\t\tmargin-top: 2%;\r\n\t\t\tmargin-left: 2%;\r\n\t\t\t.row_i{\r\n\r\n\t\t\t\tmargin-right: 5%;\r\n\t\t\t\twidth: 15%;\r\n\t\t\t\tbackground: \r\n\t\t\t\t\turl(\"../../../../static/红包包.jpg\");\r\n\t\t\t\tbackground-size:100% 100%;\r\n\t\t\t}\r\n\t\t}\n\t\t\n\t}\n\t\n</style>\n"]}]}